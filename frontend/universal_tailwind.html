<!DOCTYPE html>
<html lang="en" class="dark">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Universal Media Downloader</title>
  <meta name="google-adsense-account" content="ca-pub-7668887187349710">
  <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ðŸ“±</text></svg>">
  <!-- Tailwind CSS - Using CDN for development, switch to local build for production -->
  <!-- Tailwind CDN removed for Hostinger -->
  <link href="/static/tailwind.min.css" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <!-- Optional runtime config for static hosting (Hostinger) -->
  <script src="/static/config.js"></script>
  <style>
    :root {
      --color-youtube: #FF0000;
      --color-tiktok: #00f2ea;
      --color-instagram: #C13584;
      --color-twitter: #1DA1F2;
      --color-facebook: #1877F2;
      --color-snapchat: #FFFC00;
      --color-pinterest: #E60023;
      --color-linkedin: #0A66C2;
      --color-reddit: #FF4500;
      --platform-color: var(--color-youtube);
    }
    html { scroll-behavior: smooth; }
    body { font-family: 'Inter', sans-serif; }

    /* Entrance animations */
    .enter-fade-up { opacity: 0; transform: translateY(12px); }
    .enter-fade-up.in { opacity: 1; transform: translateY(0); transition: opacity .6s ease, transform .6s ease; }

    /* Toast animations */
    .toast { transform: translateY(-8px); opacity: 0; transition: transform .3s ease, opacity .3s ease; }
    .toast.show { transform: translateY(0); opacity: 1; }
    .toast.hide { transform: translateY(-8px); opacity: 0; }
    .platform-button img, #input-icon-container img { width: 24px; height: 24px; object-fit: contain; }
    .platform-button.active { background-color: var(--platform-color); border-color: var(--platform-color); color: white; box-shadow: 0 4px 14px 0 rgba(0,0,0,0.2); }
    .platform-button.active:hover { filter: brightness(1.1); }
    .platform-button.active[data-key="snapchat"] { color: black; }
    .platform-button.active[data-key="twitter"] { color: white; }
    .platform-button.active[data-key="tiktok"] { color: black; }
    .submit-button { background-color: var(--platform-color); }
    .focus-ring:focus { --tw-ring-color: var(--platform-color); --tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color); --tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color); box-shadow: var(--tw-ring-offset-shadow), var(--tw-ring-shadow), var(--tw-shadow, 0 0 #0000); }
    .download-button { background-color: var(--platform-color); }
    .download-button[data-platform="snapchat"] { color: black; }
    .download-button[data-platform="twitter"] { color: white; }
    .download-button[data-platform="tiktok"] { color: black; }
    .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }
    @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    .animate-shake { animation: shake 0.5s cubic-bezier(.36,.07,.19,.97) both; }
    @keyframes shake { 10%, 90% { transform: translate3d(-1px, 0, 0); } 20%, 80% { transform: translate3d(2px, 0, 0); } 30%, 50%, 70% { transform: translate3d(-4px, 0, 0); } 40%, 60% { transform: translate3d(4px, 0, 0); } }
    #processing-modal { transition: opacity 0.3s ease-in-out; }
    .history-item { transition: all 0.2s ease; }
    .history-item:hover { transform: translateX(5px); }
    
    /* Modern Tab Styles */
    .tab-button {
      color: #6b7280;
      background: transparent;
      border: none;
      cursor: pointer;
    }
    .tab-button.active {
      background: #ef4444;
      color: white;
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
    }
    .tab-button:hover:not(.active) {
      background: rgba(239, 68, 68, 0.1);
      color: #ef4444;
    }
    
    /* Quality Card Hover Effects */
    .quality-card {
      transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
      border: 1px solid rgba(229, 231, 235, 0.8);
    }
    .quality-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
      border-color: rgba(239, 68, 68, 0.3);
    }
    .dark .quality-card {
      border-color: rgba(75, 85, 99, 0.8);
    }
    .dark .quality-card:hover {
      border-color: rgba(239, 68, 68, 0.4);
    }
    
    /* Download Button Enhancements */
    .download-button {
      transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
      text-decoration: none !important;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      border: none;
      cursor: pointer;
    }
    .download-button:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(239, 68, 68, 0.4);
      text-decoration: none !important;
    }
    .download-button:active {
      transform: scale(0.98);
    }
    .download-button:visited {
      color: white !important;
      text-decoration: none !important;
    }

    /* Subtle + Accents: reveal, float, parallax, ripple */
    .reveal { opacity: 0; transform: translateY(16px); }
    .reveal.in { opacity: 1; transform: translateY(0); transition: opacity .6s ease, transform .6s ease; }

    .float-on-hover { transition: transform .25s ease, box-shadow .25s ease; }
    .float-on-hover:hover { transform: translateY(-6px); box-shadow: 0 16px 30px rgba(0,0,0,.12); }

    .glow-on-hover:hover { box-shadow: 0 8px 24px rgba(99,102,241,.35), 0 2px 8px rgba(99,102,241,.25); }

    .parallax-hero { position: relative; overflow: hidden; }
    .parallax-hero .parallax-layer { position: absolute; inset: 0; will-change: transform; pointer-events: none; }

    .ripple { position: relative; overflow: hidden; }
    .ripple::after { content: ""; position: absolute; border-radius: 50%; pointer-events: none; width: 10px; height: 10px; background: rgba(255,255,255,.35); transform: scale(0); opacity: 0; }
    .ripple.active::after { animation: ripple .6s ease-out; }
    @keyframes ripple { from { transform: scale(0); opacity: .7; } to { transform: scale(14); opacity: 0; } }

    /* Accent animations */
    .pop-in { animation: popIn .35s ease both; }
    @keyframes popIn { from { opacity: 0; transform: scale(.97) translateY(6px); } to { opacity: 1; transform: scale(1) translateY(0); } }
    .pulse-soft { animation: pulseSoft 2.5s ease-in-out infinite; }
    @keyframes pulseSoft { 0%,100%{box-shadow:0 0 0 0 rgba(16,185,129,.0)} 50%{box-shadow:0 0 0 6px rgba(16,185,129,.12)} }
  </style>

  
  
  
</head>

<body class="bg-white dark:bg-gray-900 text-gray-800 dark:text-gray-200 min-h-screen font-sans flex flex-col items-center justify-center p-4 transition-colors duration-500">
  <div id="theme-container" class="absolute top-4 right-4 flex gap-2">
    <button id="theme-toggle-btn" class="p-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-600 dark:text-gray-300 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-gray-100 dark:focus:ring-offset-gray-900 focus:ring-indigo-500">
      <span id="theme-icon">ðŸŒ™</span>
    </button>
    <!-- Fast Redirect toggle (controls ?fast=1 for Instant buttons) -->
    <button id="fast-toggle-btn" title="Fast Redirect (302 to CDN)"
            class="px-3 py-2 rounded-full bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500">
      âš¡ Fast
    </button>
  </div>

  <div class="w-full max-w-5xl mx-auto">
    <header class="text-center mb-8 parallax-hero">
      <h1 class="text-4xl md:text-5xl font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-500 to-pink-500 enter-fade-up">Universal Media Downloader</h1>
      <p class="text-gray-500 dark:text-gray-400 mt-2 enter-fade-up" style="transition-delay:.08s">Download videos, photos, reels and stories from all platforms</p>
      
    </header>



    <main class="bg-gray-50 dark:bg-gray-800 p-6 md:p-8 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700">
      <div id="platform-selector" class="flex justify-center flex-wrap gap-2 md:gap-4 mb-6"></div>

      <form id="download-form" class="enter-fade-up" style="transition-delay:.12s">
        <div class="flex flex-col sm:flex-row items-center gap-3">
          <div class="relative w-full group">
            <div id="input-icon-container" class="absolute left-3 top-1/2 -translate-y-1/2 transform transition-transform duration-300 group-focus-within:scale-110"></div>
            <input type="text" id="url-input" placeholder="https://www.youtube.com/watch?v=..." class="w-full bg-gray-100 dark:bg-gray-900/50 border-2 border-gray-300 dark:border-gray-600 rounded-lg pl-12 pr-10 py-3 focus:outline-none transition-all focus-ring" />
            <button type="button" id="clear-url-btn" class="hidden absolute right-3 top-1/2 -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200">
              <span class="text-xl">âŒ</span>
            </button>
          </div>
          <button type="button" id="paste-btn" class="w-full sm:w-auto flex items-center justify-center px-4 py-3 rounded-lg font-semibold bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 transition-all duration-300" title="Paste from clipboard">
            <span class="text-xl">ðŸ“‹</span>
          </button>
          <button type="submit" id="submit-btn" class="w-full sm:w-auto flex items-center justify-center px-6 py-3 rounded-lg font-semibold text-white transition-all duration-300 ease-in-out transform hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:scale-100 submit-button min-w-[150px]">
            <span class="text-xl mr-2">â¬‡ï¸</span>
            <span>Get Media</span>
          </button>

        </div>
      </form>

      <!-- Progress bars appear immediately under search bar -->
      <div id="progress-container" class="mt-3"></div>
      
      <!-- Status messages -->
      <div id="status-container" class="mt-2 min-h-[24px] relative"></div>
      

      <!-- Analysis results popup appears right here -->
      <div id="result-container" class="mt-3"></div>

      <div id="history-panel" class="mt-8">
        <div class="flex justify-between items-center mb-4">
          <h3 class="text-lg font-semibold">Recent Downloads</h3>
          <button id="clear-history-btn" class="text-sm px-3 py-1 bg-red-500 hover:bg-red-600 text-white rounded-md transition-colors">Clear All</button>
        </div>
        <div id="history-container" class="space-y-2 max-h-60 overflow-y-auto pr-2"></div>
      </div>

      
    </main>

    <footer class="text-center mt-8 text-gray-500 dark:text-gray-400 text-sm">
      <p>Always respect copyright and the platform's terms of service.</p>

      
    </footer>
  </div>

  <div id="processing-modal" class="hidden fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4 opacity-0">
    <div class="bg-gray-800 rounded-2xl p-8 text-center shadow-2xl flex flex-col items-center w-full max-w-md">
      <h3 id="modal-title" class="text-xl font-bold text-white mb-4">Processing on Server</h3>
      <p id="modal-text" class="text-gray-400">Your file is being prepared...</p>
      <div class="w-full mt-4">
        <div id="progress-spinner" class="mx-auto mb-2 w-6 h-6 border-2 border-cyan-400/70 border-t-transparent rounded-full animate-spin"></div>
        <div class="flex justify-between mb-1">
          <span id="progress-text" class="text-base font-medium text-cyan-400 invisible">0%</span>
          <span id="eta-text" class="text-sm font-medium text-gray-400 hidden"></span>
        </div>
        <div id="modal-progress-bar-container" class="w-full bg-gray-600 rounded-full h-2.5">
          <div id="modal-progress-bar" class="bg-cyan-400 h-2.5 rounded-full" style="width: 0%"></div>
        </div>
        <button id="cancel-merge" class="mt-5 px-4 py-2 rounded bg-red-600 hover:bg-red-700 text-white font-semibold">Cancel</button>
      </div>
    </div>
  </div>

  <!-- Image Preview Modal -->
  <div id="image-preview-modal" class="hidden fixed inset-0 bg-black bg-opacity-90 flex items-center justify-center z-50 p-4">
    <div class="relative max-w-4xl max-h-full">
      <button onclick="closeImagePreview()" class="absolute top-4 right-4 text-white text-2xl hover:text-gray-300 z-10 bg-black bg-opacity-50 rounded-full w-10 h-10 flex items-center justify-center">Ã—</button>
      <img id="preview-image" src="" alt="" class="max-w-full max-h-full object-contain rounded-lg shadow-2xl"/>
      <div id="preview-title" class="absolute bottom-4 left-4 right-4 text-white text-center bg-black bg-opacity-50 rounded px-4 py-2"></div>
    </div>
  </div>

  <script src="/static/js/platform_utils.js"></script>
  <script src="/static/js/universal.js"></script>
  

</body>
</html>